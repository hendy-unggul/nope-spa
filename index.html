<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NOPE</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet" />
  <style>
    :root {
      --black: #000000;
      --white: #ffffff;
      --accent: #4903fc;
      --logo: #ff9999;
      --deep-black: #0a0a0a;
      --bg: var(--deep-black);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background-color: var(--bg);
      color: var(--white);
      font-family: 'Inter', sans-serif;
      font-size: 16px;
      line-height: 1.5;
      overflow-x: hidden;
    }

    .container {
      max-width: 500px;
      margin: 0 auto;
      padding: 0 16px;
    }

    /* ———— LOGIN ———— */
    #login-screen {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      padding: 0 24px;
      text-align: center;
    }

    .logo {
      font-size: 28px;
      font-weight: 600;
      color: var(--logo);
      margin-bottom: 24px;
    }

    .tagline {
      font-size: 16px;
      color: #aaa;
      margin-bottom: 32px;
      line-height: 1.4;
    }

    .input-group {
      width: 100%;
      margin-bottom: 24px;
    }

    input {
      width: 100%;
      background: rgba(255,255,255,0.08);
      border: 1px solid rgba(255,255,255,0.1);
      border-radius: 12px;
      padding: 14px 16px;
      color: var(--white);
      font-size: 16px;
      outline: none;
    }

    input::placeholder {
      color: #666;
    }

    input:focus {
      border-color: var(--accent);
    }

    button {
      width: 100%;
      background: var(--accent);
      color: var(--white);
      border: none;
      border-radius: 12px;
      padding: 14px;
      font-size: 16px;
      font-weight: 500;
      cursor: pointer;
      transition: opacity 0.2s;
    }

    button:hover {
      opacity: 0.9;
    }

    /* ———— DASHBOARD ———— */
    #dashboard {
      display: none;
      min-height: 100vh;
    }

    .header {
      padding: 16px 0;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .logo-small {
      font-size: 20px;
      font-weight: 600;
      color: var(--logo);
    }

    .greeting {
      font-size: 16px;
      font-weight: 500;
      color: var(--white);
      margin-left: auto;
    }

    .feed {
      padding: 16px 0;
    }

    .rant {
      background: rgba(255,255,255,0.04);
      border-radius: 16px;
      padding: 16px;
      margin-bottom: 16px;
      font-size: 15px;
      line-height: 1.5;
    }

    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: var(--deep-black);
      border-top: 1px solid rgba(255,255,255,0.05);
      display: flex;
      justify-content: space-around;
      padding: 12px 0;
    }

    .nav-item {
      color: #777;
      font-size: 12px;
      text-align: center;
      width: 25%;
    }

    .nav-item.active {
      color: var(--accent);
    }

    textarea {
      width: 100%;
      background: rgba(255,255,255,0.08);
      border: 1px solid rgba(255,255,255,0.1);
      border-radius: 16px;
      padding: 16px;
      color: var(--white);
      font-size: 15px;
      resize: none;
      outline: none;
      height: 60px;
      margin-bottom: 24px;
    }

    textarea::placeholder {
      color: #666;
    }

    textarea:focus {
      border-color: var(--accent);
    }
  </style>
</head>
<body>
  <!-- Login Screen -->
  <div id="login-screen">
    <div class="logo">NOPE</div>
    <div class="tagline">ga perlu follower, cuma butuh sefrekuensi</div>
    <div class="input-group">
      <input type="text" id="username-input" placeholder="Masukkan username (2 kata)" maxlength="30" />
    </div>
    <button id="login-btn">Masuk</button>
  </div>

  <!-- Dashboard -->
  <div id="dashboard" class="container">
    <div class="header">
      <div class="logo-small">NOPE</div>
      <div class="greeting" id="greeting">Hello @<span id="display-username"></span></div>
    </div>

    <textarea id="rant-input" placeholder="Perasaanmu dalam 300 huruf"></textarea>

    <div class="feed" id="feed">
      <!-- Dummy rants akan muncul di sini -->
    </div>

    <div class="bottom-nav">
      <div class="nav-item active">Jejak</div>
      <div class="nav-item">Jalan</div>
      <div class="nav-item">Dunia</div>
      <div class="nav-item">Jelajah</div>
    </div>
  </div>

  <script>
    // ———— SESSION HANDLING ————
    function saveSession(username) {
      const session = { username: username.trim(), timestamp: Date.now() };
      localStorage.setItem('userSession', JSON.stringify(session));
    }

    function getSession() {
      const raw = localStorage.getItem('userSession');
      if (!raw) return null;
      try {
        return JSON.parse(raw);
      } catch (e) {
        console.warn('Session corrupted, clearing...', e);
        localStorage.removeItem('userSession');
        return null;
      }
    }

    function clearSession() {
      localStorage.removeItem('userSession');
    }

    // ———— DUMMY RANTS ————
    const dummyRants = [
      "kadang pengen ilang aja gitu, gak perlu alasan",
      "ngobrol sama diri sendiri ternyata paling nyaman",
      "capek jadi versi yang disukai orang",
      "aku kangen masa kecil yang gapapa gabut",
      "hari ini aku bertahan. itu aja dulu.",
      "ga semua hal harus dijelasin, kan?",
      "ada yang ngerasa hidup cuma jadi to-do list?",
      "kadang ‘baik-baik aja’ itu cara buat ga nangis di depan orang",
      "aku pengen dipeluk, tapi malu minta",
      "ngerasa kosong, tapi tetep senyum di grup WA"
    ];

    function renderDummyFeed() {
      const feed = document.getElementById('feed');
      feed.innerHTML = '';
      dummyRants.forEach(text => {
        const el = document.createElement('div');
        el.className = 'rant';
        el.textContent = text;
        feed.appendChild(el);
      });
    }

    // ———— LOGIN LOGIC ————
    document.getElementById('login-btn').addEventListener('click', () => {
      const input = document.getElementById('username-input');
      let username = input.value.trim();

      if (!username) {
        alert('Masukkan username dulu, sayang ❤️');
        return;
      }

      // Pastikan username hanya 2 kata
      const words = username.split(/\s+/);
      if (words.length !== 2) {
        alert('Username harus terdiri dari dua kata, ya!');
        return;
      }

      // Simpan session
      saveSession(username);
      showDashboard(username);
    });

    function showDashboard(username) {
      document.getElementById('display-username').textContent = username;
      document.getElementById('login-screen').style.display = 'none';
      document.getElementById('dashboard').style.display = 'block';
      renderDummyFeed();
    }

    // ———— ON LOAD ————
    window.addEventListener('DOMContentLoaded', () => {
      const session = getSession();
      if (session && session.username) {
        showDashboard(session.username);
      }
    });
  </script>
</body>
</html>
